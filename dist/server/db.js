"use strict";
const mongodb = require("mongodb");
var Database;
(function (Database) {
    async function connectToMongo() {
        if (this.db)
            return Promise.resolve(this.db);
        return mongodb.connect('mongodb+srv://poosgroup12:Group12UCF!@cluster0-1ldbw.mongodb.net/test?retryWrites=true', {
            bufferMaxEntries: 0,
            reconnectTries: 5000,
            useNewUrlParser: true
        }).then(client => {
            this.client = client;
            this.db = this.client.db("mean");
            this.Reservation = this.db.collection('Reservation');
            this.Schedule = this.db.collection('Schedule');
            this.User = this.db.collection('User');
            this.Scheduler = this.db.collection('Scheduler');
            return this.db;
        });
    }
    Database.connectToMongo = connectToMongo;
    function disconnectFromMongo() {
        Database.client.close();
    }
    Database.disconnectFromMongo = disconnectFromMongo;
})(Database || (Database = {}));
module.exports = Database;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zZXJ2ZXIvZGIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG1DQUFtQztBQUVuQyxJQUFVLFFBQVEsQ0FpRmpCO0FBakZELFdBQVUsUUFBUTtJQTZEUCxLQUFLLFVBQVUsY0FBYztRQUNoQyxJQUFLLElBQUksQ0FBQyxFQUFFO1lBQUcsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUM5QyxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsd0ZBQXdGLEVBQUU7WUFDN0csZ0JBQWdCLEVBQUksQ0FBQztZQUNyQixjQUFjLEVBQU0sSUFBSTtZQUN4QixlQUFlLEVBQUUsSUFBSTtTQUN4QixDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQ2IsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7WUFDcEIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1lBQ3BELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUE7WUFDOUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN0QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1lBQ2hELE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQTtRQUNsQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFmcUIsdUJBQWMsaUJBZW5DLENBQUE7SUFFRCxTQUFnQixtQkFBbUI7UUFDL0IsU0FBQSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDbEIsQ0FBQztJQUZlLDRCQUFtQixzQkFFbEMsQ0FBQTtBQUNMLENBQUMsRUFqRlMsUUFBUSxLQUFSLFFBQVEsUUFpRmpCO0FBRUQsaUJBQVMsUUFBUSxDQUFBIiwiZmlsZSI6InNlcnZlci9kYi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb2RiID0gcmVxdWlyZSgnbW9uZ29kYicpXG5cbm5hbWVzcGFjZSBEYXRhYmFzZSB7XG5cbiAgIGV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0SUQge1xuICAgICAgIF9pZDogc3RyaW5nXG5cbiAgIH1cblxuICAgZXhwb3J0IGludGVyZmFjZSBTY2hlZHVsZXIge1xuICAgICAgIHNjaGVkdWxlcklEOiBtb25nb2RiLk9iamVjdElEXG4gICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgICAgIGdyb3VwOiBzdHJpbmdcbiAgIH1cbiAgIFxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2NoZWR1bGUge1xuICAgICAgICBzX2lkOiBtb25nb2RiLk9iamVjdElEXG4gICAgICAgIHNjaGVkdWxlcklEOiBtb25nb2RiLk9iamVjdElEXG4gICAgICAgIHNjaGVkdWxlX25hbWU6IHN0cmluZyxcbiAgICAgICAgYXZlcmFnZV9hcHBvaW50bWVudF9sZW5ndGg6IHN0cmluZyxcbiAgICAgICAgTV9TVEFSVDogc3RyaW5nLFxuICAgICAgICBNX0VORDogc3RyaW5nLFxuICAgICAgICBUX1NUQVJUOiBzdHJpbmcsXG4gICAgICAgIFRfRU5EOiBzdHJpbmcsXG4gICAgICAgIFdfU1RBUlQ6IHN0cmluZyxcbiAgICAgICAgV19FTkQ6IHN0cmluZyxcbiAgICAgICAgVGhfU1RBUlQ6IHN0cmluZyxcbiAgICAgICAgVGhfRU5EOiBzdHJpbmcsXG4gICAgICAgIEZfU1RBUlQ6IHN0cmluZyxcbiAgICAgICAgRl9FTkQ6IHN0cmluZyxcbiAgICAgICAgU19TVEFSVDogc3RyaW5nLFxuICAgICAgICBTX0VORDogc3RyaW5nLFxuICAgICAgICBTdV9TVEFSVDogc3RyaW5nLFxuICAgICAgICBTdV9FTkQ6IHN0cmluZ1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUmVzZXJ2YXRpb24ge1xuICAgICAgICBVc2VySUQ6IG1vbmdvZGIuT2JqZWN0SURcbiAgICAgICAgU2NoZWR1bGVJRDogc3RyaW5nLFxuICAgICAgICBEYXRlOiBzdHJpbmcsXG4gICAgICAgIFRpbWU6IHN0cmluZ1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gICAgICAgIF9pZDogbW9uZ29kYi5PYmplY3RJRFxuICAgICAgICBmaXJzdG5hbWU6IHN0cmluZyxcbiAgICAgICAgbGFzdG5hbWU6IHN0cmluZyxcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoIHtcbiAgICAgICAgc2VhcmNoOiBzdHJpbmdcbiAgICB9XG5cbiAgICBleHBvcnQgdmFyIGNsaWVudDptb25nb2RiLk1vbmdvQ2xpZW50XG4gICAgZXhwb3J0IHZhciBkYjptb25nb2RiLkRiXG4gICAgZXhwb3J0IHZhciBSZXNlcnZhdGlvbjptb25nb2RiLkNvbGxlY3Rpb248UmVzZXJ2YXRpb24+XG4gICAgZXhwb3J0IHZhciBTY2hlZHVsZTptb25nb2RiLkNvbGxlY3Rpb248U2NoZWR1bGU+XG4gICAgZXhwb3J0IHZhciBTY2hlZHVsZXI6bW9uZ29kYi5Db2xsZWN0aW9uPFNjaGVkdWxlcj5cbiAgICBleHBvcnQgdmFyIFVzZXI6bW9uZ29kYi5Db2xsZWN0aW9uPFVzZXI+XG5cbiAgICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvTW9uZ28oKTpQcm9taXNlPG1vbmdvZGIuRGI+IHtcbiAgICAgICAgaWYgKCB0aGlzLmRiICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmRiKVxuICAgICAgICByZXR1cm4gbW9uZ29kYi5jb25uZWN0KCdtb25nb2RiK3NydjovL3Bvb3Nncm91cDEyOkdyb3VwMTJVQ0YhQGNsdXN0ZXIwLTFsZGJ3Lm1vbmdvZGIubmV0L3Rlc3Q/cmV0cnlXcml0ZXM9dHJ1ZScsIHtcbiAgICAgICAgICAgIGJ1ZmZlck1heEVudHJpZXM6ICAgMCxcbiAgICAgICAgICAgIHJlY29ubmVjdFRyaWVzOiAgICAgNTAwMCxcbiAgICAgICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZVxuICAgICAgICB9KS50aGVuKGNsaWVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudFxuICAgICAgICAgICAgdGhpcy5kYiA9IHRoaXMuY2xpZW50LmRiKFwibWVhblwiKVxuICAgICAgICAgICAgdGhpcy5SZXNlcnZhdGlvbiA9IHRoaXMuZGIuY29sbGVjdGlvbignUmVzZXJ2YXRpb24nKVxuICAgICAgICAgICAgdGhpcy5TY2hlZHVsZSA9IHRoaXMuZGIuY29sbGVjdGlvbignU2NoZWR1bGUnKVxuICAgICAgICAgICAgdGhpcy5Vc2VyID0gdGhpcy5kYi5jb2xsZWN0aW9uKCdVc2VyJylcbiAgICAgICAgICAgIHRoaXMuU2NoZWR1bGVyID0gdGhpcy5kYi5jb2xsZWN0aW9uKCdTY2hlZHVsZXInKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZGlzY29ubmVjdEZyb21Nb25nbygpIHtcbiAgICAgICAgY2xpZW50LmNsb3NlKClcbiAgICB9XG59XG5cbmV4cG9ydCA9IERhdGFiYXNlXG4iXX0=
